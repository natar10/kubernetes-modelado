# =============================================================================
# SECRETS - Credenciales del sistema
# =============================================================================
# NOTA: En producción, usar soluciones como:
# - Kubernetes Secrets con cifrado en reposo
# - HashiCorp Vault
# - AWS Secrets Manager / Azure Key Vault
# Para este prototipo académico, usamos secrets básicos de K8s
# =============================================================================

---
# Secret para la base de datos de Usuarios
apiVersion: v1
kind: Secret
metadata:
  name: db-usuarios-secret
  namespace: eventos-system
  labels:
    app.kubernetes.io/component: database
    app.kubernetes.io/name: db-usuarios
type: Opaque
stringData:
  POSTGRES_USER: "usuarios_user"
  POSTGRES_PASSWORD: "usuarios_password_dev"
  POSTGRES_DB: "usuarios_db"

---
# Secret para la base de datos de Eventos
apiVersion: v1
kind: Secret
metadata:
  name: db-eventos-secret
  namespace: eventos-system
  labels:
    app.kubernetes.io/component: database
    app.kubernetes.io/name: db-eventos
type: Opaque
stringData:
  POSTGRES_USER: "eventos_user"
  POSTGRES_PASSWORD: "eventos_password_dev"
  POSTGRES_DB: "eventos_db"

---
# Secret para la base de datos de Participación
apiVersion: v1
kind: Secret
metadata:
  name: db-participacion-secret
  namespace: eventos-system
  labels:
    app.kubernetes.io/component: database
    app.kubernetes.io/name: db-participacion
type: Opaque
stringData:
  POSTGRES_USER: "participacion_user"
  POSTGRES_PASSWORD: "participacion_password_dev"
  POSTGRES_DB: "participacion_db"

---
# Secret para Keycloak
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-secret
  namespace: eventos-system
  labels:
    app.kubernetes.io/component: identity
    app.kubernetes.io/name: keycloak
type: Opaque
stringData:
  KEYCLOAK_ADMIN: "admin"
  KEYCLOAK_ADMIN_PASSWORD: "admin_password_dev"
  KC_DB_USERNAME: "keycloak_user"
  KC_DB_PASSWORD: "keycloak_password_dev"

---
# Secret para la base de datos de Keycloak
apiVersion: v1
kind: Secret
metadata:
  name: db-keycloak-secret
  namespace: eventos-system
  labels:
    app.kubernetes.io/component: database
    app.kubernetes.io/name: db-keycloak
type: Opaque
stringData:
  POSTGRES_USER: "keycloak_user"
  POSTGRES_PASSWORD: "keycloak_password_dev"
  POSTGRES_DB: "keycloak_db"

---
# Secret para RabbitMQ
apiVersion: v1
kind: Secret
metadata:
  name: rabbitmq-secret
  namespace: eventos-system
  labels:
    app.kubernetes.io/component: messaging
    app.kubernetes.io/name: rabbitmq
type: Opaque
stringData:
  RABBITMQ_USER: "eventos_user"
  RABBITMQ_PASSWORD: "eventos_password_dev"
